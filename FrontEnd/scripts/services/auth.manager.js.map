{"version":3,"sources":["services/auth.manager.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAA2B,eAAe,CAAC,CAAA;AAC3C,uBAAiF,iBAAiB,CAAC,CAAA;AACnG,qBAA4B,QAAQ,CAAC,CAAA;AAIrC;IAEI,qBAAoB,WAAwB,EAAU,MAAc;QAAhD,gBAAW,GAAX,WAAW,CAAa;QAAU,WAAM,GAAN,MAAM,CAAQ;IAAI,CAAC;IAEzE,iCAAW,GAAX,UAAY,IAA4B,EAAE,KAA0B;QAChE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,OAAO,CAAC,CAAC,CAAC;YAC/B,EAAE,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBAC1C,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;gBACrC,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YACD,IAAI;gBACA,MAAM,CAAC,IAAI,CAAC;QACpB,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC;YAC5B,MAAM,CAAC,IAAI,CAAC;QAEhB,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;QACjC,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IArBL;QAAC,iBAAU,EAAE;;mBAAA;IAsBb,kBAAC;AAAD,CApBA,AAoBC,IAAA;AApBY,mBAAW,cAoBvB,CAAA","file":"services/auth.manager.js","sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { CanActivate, Router, ActivatedRouteSnapshot, RouterStateSnapshot } from \"@angular/router\";\r\nimport { AuthService } from \"./auth\";\r\n\r\n@Injectable()\r\n\r\nexport class AuthManager implements CanActivate {\r\n\r\n    constructor(private authService: AuthService, private router: Router) { }\r\n\r\n    canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n        if (next.url[0].path === \"login\") {\r\n            if (window.localStorage.getItem(\"auth_key\")) {\r\n                console.log(\"You already logged in\");\r\n                return false;\r\n            }\r\n            else\r\n                return true;\r\n        }\r\n        if (this.authService.isLoggedIn)\r\n            return true;\r\n\r\n        console.log(\"You must be logged in\");\r\n        this.router.navigate([\"/login\"]);\r\n        return false;\r\n    }\r\n}"],"sourceRoot":"/source/"}